{% extends 'base.html.twig' %}

{% block title %}La carte{% endblock %}

{% block body %}
     <nav aria-label="breadcrumb" class="mb-5 mr-5">
          <ol class="breadcrumb">
               <li class="breadcrumb-item"><a href="{{ path('app_home') }}">Accueil</a></li>
               <li class="breadcrumb-item active" aria-current="page">Carte des joueurs</li>
          </ol>
     </nav>
     
     <!-- Cases à cocher pour voir les joueurs autour et les événements si utilisateur connecté-->
     {% if is_granted('ROLE_USER') %}
          <div class="mb-4 d-flex justify-content-center">
               <button id="usersButton" class="rounded-pill btn btn-primary" style="margin-right: 10px;" data-toggle="button" aria-pressed="false" autocomplete="off">
                    Joueurs autour de chez moi
               </button>
               <button id="eventsButton" class="rounded-pill btn btn-danger" data-toggle="button" aria-pressed="false" autocomplete="off">
                    Rendez-vous OMG
               </button>
          </div>
          {% else %}
               <!-- Cases servant de légende et liées aux joueurs et aux événements si utilisateur non connecté-->
               <div class="mb-4 d-flex justify-content-center">
                    <button id="usersButton" class="rounded-pill btn btn-primary" style="margin-right: 10px;" data-toggle="button" aria-pressed="false" autocomplete="off">
                        Joueurs dans toute la France
                    </button>
                    <button id="eventsButton" class="rounded-pill btn btn-danger" data-toggle="button" aria-pressed="false" autocomplete="off">
                        Rendez-vous OMG
                    </button>
               </div>
     {% endif %}

     <!-- Div pour afficher la carte -->
     <div id="map" class="border rounded" style="height:600px"></div>
{% endblock %}

{% block stylesheets %}
     <!-- CSS Leaflet -->
	<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
     integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
     crossorigin=""/>
{% endblock %}

{% block javascripts %}
     <!-- JS Leaflet -->
	<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
     integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
     crossorigin=""></script>

     <!-- Import AXIOS -->
     <script src="{{ asset('assets/js/axios.min.js')}}"></script>

     <!-- Import users functions for map -->
     <script src="{{ asset('assets/js/mapFunctions.js')}}"></script>

     <!-- Import events functions for map -->
     <script src="{{ asset('assets/js/mapEventFunctions.js')}}"></script>

     <!-- Initialisation Map Leaflet -->
     <script src="{{ asset('assets/js/map.js')}}"></script>


{% endblock %}